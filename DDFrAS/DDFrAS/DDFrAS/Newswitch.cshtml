@using DDFrAS;
@{
    Validation.Add("switchname", Validator.Required("Verplicht veld"), Validator.StringLength(20, 0, "Maximaal 20 tekens."));
    Validation.Add("manip", Validator.Required("Verplicht veld"), Validator.StringLength(15, 0, "Ip adres is niet meer dan 15 tekens"));
    Validation.Add("sshuser", Validator.Required("Verplicht veld"), Validator.StringLength(20, 0, "Maximaal 20 tekens."));
    Validation.Add("sshpass", Validator.Required("Verplicht veld"), Validator.StringLength(15, 0, "Maximaal 20 tekens."));
    Validation.Add("enpass", Validator.Required("Verplicht veld"), Validator.StringLength(15, 0, "Maximaal 20 tekens."));

    Page.Title = "Nieuwe switch";
    Layout = "_Layout.cshtml";
}

@*onpost push the newswitch to fe and db*@
@if (IsPost && Validation.IsValid())
{ ASInput.NewSwitch(Request.Form["switchname"], Request.Form["manip"], Request.Form["sshuser"], Request.Form["sshpass"], Request.Form["enpass"]); Response.Redirect("~/DDFrAS/Viewswitches.cshtml");}

<div class="">
    <div class="form-control col-xl-6">
        <h4 class="h4 border-bottom">Nieuwe switch</h4>
        @Html.ValidationSummary(true)
        <form method="post">
            <div class="form-group">
                <label>Switch Naam</label>
                <input class="form-control" name="switchname" placeholder="Voer switchnaam in" />
                @Html.ValidationMessage("switchname")
            </div>
            <div class="form-group">
                <label>Management ip</label>
                <input class="form-control" name="manip" placeholder="Ip adres" />
                @Html.ValidationMessage("manip")
            </div>
            <div class="form-group">
                <label>SSH Gebruikersnaam</label>
                <input class="form-control" name="sshuser" />
                @Html.ValidationMessage("sshuser")
            </div>
            <div class="form-group">
                <label>SSH wachtwoord</label>
                <input class="form-control" name="sshpass" />
                @Html.ValidationMessage("sshpass")
            </div>
            <div class="form-group">
                <label>Enable wachtwoord</label>
                <input class="form-control" name="enpass" placeholder="Terminal wachtwoord" />
                @Html.ValidationMessage("enpass")
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-success">Voeg toe</button>
            </div>
            <style>
                .field-validation-error{
                    color: #d9534f;
                }
            </style>
        </form>
    </div>
</div>